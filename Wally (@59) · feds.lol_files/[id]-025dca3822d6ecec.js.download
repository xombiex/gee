(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[856],{5903:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return Ct},default:function(){return wt}});var i=n(210),r=n(6391),o=n(6266),a=n(8451),s=n.n(a),l=n(2335),c=n(8349),u=n(9180),d=n(4414),p=n.n(d),v=n(2677),_=n(4676),f=n(9105),m=n.n(f),b=n(6732),y=n.n(b),g=n(5907),x=n(7779),h=n(9639),k=n(4761),j=n(9011),C=n(2499),w=n(2034),O=n(2076),N=n.n(O),P=n(9450),A=n(916),T=n(8326),S=n(9005),B=n(7184),W=n(5161),M=n(2663),U=function(e){var t=e.visible,n=e.onClose,o=(0,g.y)("embed_player_v"),a=(0,r.useContext)(B.O),c=(0,l.v9)(T.z),u=(0,l.v9)((function(e){return e.data.backgroundColor})),d=(0,l.v9)((function(e){var t;return(null===(t=e.data.entity)||void 0===t?void 0:t.relatedEntityUri)||""})),p=(0,l.v9)((function(e){return e.settings.session.isAnonymous})),f=(0,l.v9)((function(e){return e.data.saved})),b=(0,l.v9)((function(e){var t;return(null===(t=e.data.entity)||void 0===t?void 0:t.isAudiobook)||!1})),O=(0,r.useState)(!1),U=O[0],E=O[1],I=(0,l.v9)(T.k),L=(0,r.useRef)(null),Z=(0,W.Z)(d,f),D=(0,_.Z)(Z,2),R=D[0],F=D[1],G=(0,l.I0)(),J=function(){n(),G((0,S._)({action_type:"click",action_intent:"close-context-menu"}))},X=function(){var e=(0,v.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=2;break}return e.abrupt("return");case 2:if(!c){e.next=8;break}return e.next=5,(0,P.v)(c,L.current);case 5:G((0,S._)({action_type:"click",action_intent:"clipboard-copy"})),E(!0),setTimeout((function(){return E(!1)}),2e3);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,M.jsx)(N(),{active:t,focusTrapOptions:{onDeactivate:J},children:(0,M.jsxs)("div",{ref:L,className:s()(y().wrapper,(0,i.Z)({},y().visible,t)),style:{backgroundColor:u},children:[(0,M.jsxs)("div",{className:s()(y().menuContent,(0,i.Z)({},y().visible,t)),children:[(0,M.jsxs)("ul",{className:s()(y().menu,(0,i.Z)({},y().visible,t)),children:[(0,M.jsx)("li",{className:y().menuItem,children:(0,M.jsx)("a",{className:y().menuItemButton,tabIndex:-1,href:o.embeddedEntity,children:(0,M.jsxs)("button",{className:y().menuItemButton,onClick:function(){I&&G((0,A.wO)()),G((0,S._)({action_type:"click",action_intent:"deeplink",action_item_id:"play-on-spotify"}))},children:[(0,M.jsx)(j.V,{className:y().icon,"aria-hidden":"true"}),(0,M.jsx)("div",{className:y().truncator,children:a.get("play_on_spotify")})]})})}),(0,M.jsx)("li",{className:y().menuItem,children:(0,M.jsx)("a",{className:y().menuItemButton,tabIndex:-1,href:o.compositeEntity,onClick:function(e){b&&!p&&e.preventDefault()},children:(0,M.jsxs)("button",{className:y().menuItemButton,onClick:function(){p?(0,S._)({action_type:"click",action_intent:"deeplink",action_item_id:"add-to-library-button"}):((0,S._)({action_type:"click",action_intent:R?"remove-from-library":"add-to-library"}),F(!R))},children:[b?R?(0,M.jsx)(x.K,{className:y().icon,"aria-hidden":"true"}):(0,M.jsx)(h.G,{className:y().icon,"aria-hidden":"true"}):(0,M.jsx)(k.V,{className:y().icon,"aria-hidden":"true"}),(0,M.jsx)("div",{className:y().truncator,children:b?R?a.get("audiobook.embed.added-to-library"):a.get("audiobook.embed.add-to-library"):a.get("follow_on_spotify")})]})})}),(0,M.jsx)("li",{className:y().menuItem,children:(0,M.jsxs)("button",{disabled:!c,className:y().menuItemButton,onClick:X,children:[(0,M.jsx)(C.o,{className:y().icon,"aria-hidden":"true"}),(0,M.jsxs)("div",{className:y().copyLinkWrapper,children:[(0,M.jsx)("span",{className:s()(y().copyText,(0,i.Z)({},y().copied,U)),children:(0,M.jsx)("div",{className:y().truncator,children:a.get("spe.copy_link")})}),(0,M.jsx)("span",{className:s()(y().copiedText,(0,i.Z)({},y().copied,U)),children:(0,M.jsx)("div",{className:y().truncator,children:a.get("embed_success_share_link")})})]})]})})]}),(0,M.jsxs)("div",{className:y().policies,children:[(0,M.jsx)("a",{className:y().link,href:"https://www.spotify.com/legal/privacy-policy/",onClick:function(){G((0,S._)({action_type:"click",action_intent:"privacypolicy-show"}))},children:a.get("spe.privacy_policy")}),(0,M.jsx)("span",{className:y().separator,children:"\xb7"}),(0,M.jsx)("a",{className:y().link,href:"https://www.spotify.com/legal",onClick:function(){G((0,S._)({action_type:"click",action_intent:"termsandconditions-show"}))},children:a.get("spe.terms_and_conditions")})]})]}),(0,M.jsx)("button",{title:a.get("close_button_action"),className:y().closeButton,onClick:J,children:(0,M.jsx)(w.k,{})})]})})},E=n(1562),I=n(6998),L=n(1127),Z=n.n(L),D=n(6974),R=function(e){var t=e.trackListLength,n=e.className,i=e.ariaLabel,o=e.link,a=(0,l.I0)(),c=(0,r.useState)("large"),u=c[0],d=c[1],p=r.useContext(E.h),v=p.width,_=p.height;return(0,r.useEffect)((function(){_&&v&&d(function(e,t,n){return e>=D.p4.large&&t>=D.Zo.medium&&!n?"large":e>=D.p4.landscape?"medium":"small"}(_,v,t))}),[_,v,t]),(0,M.jsx)("a",{className:s()(Z().spotifyLogoLink,n),onClick:function(){a((0,S._)({action_type:"click",action_intent:"deeplink",action_item_id:"spotify-logo"}))},title:"logo",href:o||I.SW,role:"button","aria-label":i||"play_on_spotify",children:(0,M.jsx)(j.V,{size:u})})},F=n(8346),G=n(2602),J=n.n(G),X=n(9218),z=n(5071),K=n(6894),V=n(4415),q=n(4387),Q=n(3774),H=n(4372),$=n(2935),Y=n(3286),ee=n(1226),te=n.n(ee),ne=n(3567),ie=n(8075),re=n.n(ie),oe=function(e,t,n){switch(e){case ne.JM.EPISODE:case ne.JM.SHOW:return n?t.get("audiobook.embed.upsell_cta"):t.get("spe.upsell_cta");case ne.JM.TRACK:return t.get("spe.track_upsell_cta");case ne.JM.PLAYLIST:default:return t.get("spe.track_list_upsell")}},ae=function(){var e=(0,l.v9)((function(e){return e.data.entity.type})),t=(0,l.v9)((function(e){return e.data.entity.isAudiobook||!1})),n=(0,r.useContext)(B.O);return(0,M.jsx)(V.D,{as:"h1",variant:"canon",className:s()(re().ctaText),children:oe(e,n,t)})},se=n(92),le=n(8849),ce=n(4618),ue=n(4064),de=n.n(ue),pe=function(e){var t,n,o=e.showUpsell,a=(0,l.v9)((function(e){return e.data.entity})),c=(0,r.useMemo)((function(){return(0,se.C)(a)}),[a]).metadata,u=(0,l.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.isPaused})),d=(0,l.v9)((function(e){var t;return!(null===(t=e.data.entity)||void 0===t||!t.isAudiobook)})),p=(0,l.I0)(),v=(0,r.useCallback)((function(e){return p((0,S._)(e))}),[p]),_=(null===c||void 0===c?void 0:c.title)||"",f=(0,g.y)("embed_player_p"),m=(0,l.v9)(T.k);return(0,M.jsx)(M.Fragment,{children:(0,M.jsx)("h1",{className:s()(de().title,(t={},(0,i.Z)(t,de().isAudiobook,d),(0,i.Z)(t,de().alignBelowUpsell,o),t)),"data-testid":"entity-title",children:(0,M.jsx)(le.R,{title:_,speed:.2,iterationCount:"single",children:(0,M.jsx)(ce.h,{standalone:!0,semanticColor:"textBase",onClick:(n="title",function(){"title"!==n&&"cover-art"!==n||!m||void 0===u||p((0,A.wO)()),v({action_type:"click",action_intent:"deeplink",action_item_id:n})}),href:null===f||void 0===f?void 0:f.selectedEntity,children:_})},_)})})},ve=n(8e3),_e=n(3365),fe=function(e){var t=e.uri,n=e.name,i=e.onClick,o=(0,r.useMemo)((function(){var e;return(0,_e.bW)(null!==(e=(0,ne.EC)(t))&&void 0!==e?e:void 0,!1).toString()}),[t]);return(0,M.jsx)(ce.h,{standalone:!0,semanticColor:"textBase",onClick:i,href:o,children:n})},me=function(e,t){if(e){var n=(0,ve.RX)(e);return(0,ve.rL)(n,t)}return""},be=function(e){var t,n=e.showUpsell,o=(0,l.v9)((function(e){return e.data.entity})),a=(0,r.useMemo)((function(){return(0,se.C)(o)}),[o]).metadata,c=(0,l.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.isPaused})),u=(0,l.v9)((function(e){var t;return!(null===(t=e.data.entity)||void 0===t||!t.isAudiobook)})),d=(0,l.I0)(),p=(0,r.useCallback)((function(e){return d((0,S._)(e))}),[d]),v=(null===a||void 0===a?void 0:a.title)||"",_=(null===a||void 0===a?void 0:a.subtitle)||"",f=o.artists,m=(null===a||void 0===a?void 0:a.releaseDate)||"",b=(0,g.y)("embed_player_p"),y=(0,r.useContext)(B.O),x=(0,l.v9)(T.k),h=function(e){return function(){"title"!==e&&"cover-art"!==e||!x||void 0===c||d((0,A.wO)()),p({action_type:"click",action_intent:"deeplink",action_item_id:e})}};return(0,M.jsx)(M.Fragment,{children:(0,M.jsx)("h2",{className:s()(de().subtitle,(t={},(0,i.Z)(t,de().alignBelowUpsell,n),(0,i.Z)(t,de().isAudiobook,u),t)),children:(0,M.jsx)(le.R,{title:v,speed:.2,iterationCount:"single",children:(0,M.jsxs)("span",{children:[x&&!u&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("span",{children:me(m,y)}),(0,M.jsx)("span",{className:de().separator,children:"\xb7"})]}),_&&(0,M.jsx)(ce.h,{standalone:!0,semanticColor:"textBase",dir:"auto",onClick:h("subtitle"),href:null===b||void 0===b?void 0:b.compositeEntity,children:_}),(null===f||void 0===f?void 0:f.length)&&f.map((function(e,t){return[t>0&&y.getSeparator(),(0,M.jsx)(fe,{uri:e.uri,name:e.name,onClick:h("artist")},e.uri)]}))]})},v)})})},ye=n(7093),ge=n(6954),xe=n.n(ge),he=n(3529),ke=function(){var e=(0,l.I0)();return(0,M.jsx)(q.o,{condensedAll:!0,size:"small",className:xe().overflowMenuButton,semanticColor:"textBase",title:ye.ag.get("embed_more"),"aria-label":ye.ag.get("embed_more"),onClick:function(){e((0,c.Nn)()),(0,S._)({action_type:"click",action_intent:"open-context-menu"})},iconOnly:he.N})},je=n(4754),Ce=n(3251),we=function(){var e,t,n=(0,l.v9)((function(e){return e.machineState.playbackMode})),i=(0,l.v9)((function(e){return e.data.entity})).isPlayable,r=(0,l.v9)((function(e){var t,n;return null===(t=e.playback)||void 0===t||null===(n=t.item)||void 0===n?void 0:n.uri})),o=(0,l.v9)((function(e){return e.playback})),a=n===u.d.PREVIEW,s=(0,l.I0)(),c=!(null!==(e=null===o||void 0===o?void 0:o.hasContext)&&void 0!==e&&e)||null===(t=null===o||void 0===o?void 0:o.isPaused)||void 0===t||t,d=function(){null!==o&&void 0!==o&&o.isDisabled||(s((0,A.Xh)()),(0,S._)({action_type:"click",action_intent:!1===(null===o||void 0===o?void 0:o.isPaused)?"pause":"play",action_item_id:"now-playing-bar",item_uri:r}),i||(0,S._)({action_type:"playback",action_intent:"track-not-available",action_item_id:"now-playing-bar",item_uri:r}))};return(0,M.jsx)(M.Fragment,{children:a?(0,M.jsx)(je.w,{onClick:d}):(0,M.jsx)(Ce.Z,{onClick:d,isPaused:c,isLoading:(null===o||void 0===o?void 0:o.isBuffering)||!1,isDisabled:(null===o||void 0===o?void 0:o.isDisabled)||!1})})},Oe=n(9321),Ne=n.n(Oe),Pe=function(e){var t=e.className,n=e.onClick,i=e.imageSrc,o=(0,l.I0)(),a=(0,r.useCallback)((function(e){return o((0,S._)(e))}),[o]),c=(0,g.y)("embed_player_p");return(0,M.jsx)("div",{onClick:function(){n&&n(),a({action_type:"click",action_intent:"deeplink",action_item_id:"cover-art"}),window.open(null===c||void 0===c?void 0:c.embeddedEntity,"_blank")},"aria-hidden":!0,className:s()(Ne().coverArt,t),style:{"--image-src":"url('".concat(i,"')")}})},Ae=function(e){var t=e.onClose,n=e.onGetSpotifyClick,i=(0,g.y)("embed_player_v"),o=(0,r.useState)("medium"),a=o[0],c=o[1],u=r.useContext(E.h),d=u.width,p=u.height,v=(0,r.useContext)(B.O),_=(0,l.v9)((function(e){return e.data.backgroundColor})),f=(0,l.v9)((function(e){return e.data.entity.coverArt})),m=(0,l.v9)((function(e){var t;return null===(t=e.data.entity)||void 0===t?void 0:t.isAudiobook})),b=(0,r.useMemo)((function(){var e,t;return null===(e=(0,Q.X)((0,H.m)(null!==(t=null===f||void 0===f?void 0:f.sources)&&void 0!==t?t:[]),{desiredSize:D.dN.largeScreen.large}))||void 0===e?void 0:e.url}),[f]);return(0,r.useEffect)((function(){var e,t;p&&d&&c((t=d,(e=p)<D.p4.landscape&&t<D.Zo.small||e<D.p4.large?"small":"medium"))}),[p,d]),(0,M.jsxs)("div",{className:te().fullscreenWrapper,style:{"--background-color":"".concat((0,$.$)(_))},children:[(0,M.jsxs)("div",{className:s()(te().ctaWrapper),children:[(0,M.jsx)("div",{className:s()(te().backgroundCoverArt),style:{"--image-src":"url('".concat(b,"')")}}),(0,M.jsxs)("div",{className:s()(te().content),children:[(0,M.jsx)(ae,{}),(0,M.jsx)("div",{className:s()(te().getSpotifyButton),children:(0,M.jsx)(K.D,{as:"a",size:a,colorSet:"invertedLight",href:i.cta,onClick:n,tabIndex:0,children:(0,M.jsx)(V.D,{className:s()(te().buttonText),variant:"canon",children:m?v.get("audiobook.embed.buy-this-audiobook"):v.get("get_spotify")})})}),(0,M.jsx)(q.o,{semanticColor:"textBase",iconOnly:w.k,title:v.get("close_button_action"),className:te().closeButton,onClick:t,"aria-label":v.get("close_button_action")})]})]}),(0,M.jsxs)("div",{className:te().footerWrapper,children:[(0,M.jsx)("div",{className:te().coverArtWrapper,children:(0,M.jsx)(Pe,{imageSrc:b||"",className:te().coverArtUpsell})}),(0,M.jsxs)("div",{className:s()(te().metadataWrapper),children:[(0,M.jsx)(pe,{}),(0,M.jsxs)("span",{className:s()(te().labelsAndSubtitle),children:[(0,M.jsx)(Y.$,{}),(0,M.jsx)(be,{})]})]}),(0,M.jsxs)("div",{className:s()(te().playerControlsWrapper),children:[(0,M.jsx)("div",{className:te().overflowMenuButtonWrapper,children:(0,M.jsx)(ke,{})}),(0,M.jsx)(we,{})]})]})]})},Te=function(){var e=(0,l.v9)((function(e){return e.machineState.playbackMode===u.d.PREVIEW})),t=(0,l.v9)((function(e){return(0,X.k)(e.playback)})),n=(0,l.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.duration})),i=(0,l.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.isPaused})),o=(0,l.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.hasContext})),a=(0,l.v9)((function(e){return e.machineState.currentPreviewTrackIndex})),s=(0,l.v9)((function(e){var t;return(null===(t=e.data.entity)||void 0===t?void 0:t.isAudiobook)||!1})),c=(0,z.$)({duration:n,isPreview:e,isPaused:i,hasContext:o,position:t,currentPreviewTrackIndex:a,isAudiobook:s}),d=c.showUpsell,p=c.setShowUpsell,v=(0,l.I0)();(0,r.useEffect)((function(){d&&v((0,S._)({action_intent:"open-upsell",action_type:"view"}))}),[v,d]);var _=(0,r.useRef)(null);return(0,M.jsx)(F.Z,{nodeRef:_,in:d,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:{enter:J().transition_enter,enterActive:J().transition_enterActive,exit:J().transition_exit,exitActive:J().transition_exitActive},children:(0,M.jsx)("div",{ref:_,className:J().upsellContentContainer,children:(0,M.jsx)(Ae,{onClose:function(){p(!1),v((0,S._)({action_type:"click",action_intent:"close-upsell"}))},onGetSpotifyClick:function(){v((0,S._)({action_type:"click",action_intent:"deeplink",action_item_id:"get-spotify"}))}})})})},Se=n(8072),Be=n.n(Se),We=n(1842),Me=n(2588),Ue=n(3050);function Ee(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function Ie(e,t,n){var i=[],r=(0,Ue.fp)(e,i,n);return i.length<2?n:r+t(i)}var Le=function e(t){for(var n="",i=0;i<t.length;i++){var r=t[i];if(null!=r){var o=void 0;switch(typeof r){case"boolean":break;case"object":if(Array.isArray(r))o=e(r);else for(var a in o="",r)r[a]&&a&&(o&&(o+=" "),o+=a);break;default:o=r}o&&(n&&(n+=" "),n+=o)}}return n},Ze=function(e){var t=(0,We.Z)(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=(0,Me.O)(n,t.registered,void 0);return(0,Ue.My)(t,r,!1),t.key+"-"+r.name};return{css:n,cx:function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return Ie(t.registered,n,Le(i))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=(0,Me.O)(n,t.registered);Ee(t,r)},keyframes:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=(0,Me.O)(n,t.registered),o="animation-"+r.name;return Ee(t,{name:r.name,styles:"@keyframes "+o+"{"+r.styles+"}"}),o},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:Ue.fp.bind(null,t.registered),merge:Ie.bind(null,t.registered,n)}}({key:"css"}),De=(Ze.flush,Ze.hydrate,Ze.cx),Re=(Ze.merge,Ze.getRegisteredStyles,Ze.injectGlobal,Ze.keyframes,Ze.css,Ze.sheet,Ze.cache,function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],o=(0,r.useContext)(E.h),a=o.width,s=o.height,c=(0,l.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.isPaused})),d=(0,l.v9)((function(e){return e.machineState.playbackMode}))===u.d.PREVIEW,p=(0,l.I0)(),v=(0,l.v9)(T.k),_=(0,r.useRef)(null),f=(0,l.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.hasContext})),m=(0,l.v9)((function(e){return e.data.entity})),b=(0,r.useMemo)((function(){var e,t,n;return null===(e=(0,Q.X)((0,H.m)(null!==(t=null===m||void 0===m||null===(n=m.coverArt)||void 0===n?void 0:n.sources)&&void 0!==t?t:[]),{desiredSize:D.dN.largeScreen.large}))||void 0===e?void 0:e.url}),[m]);return(0,r.useEffect)((function(){return a&&s&&a>=D.Zo.medium&&s>=D.p4.large&&!d&&f?_.current=setTimeout((function(){return n(!0)}),200):n(!1),function(){_.current&&clearTimeout(_.current)}}),[d,c,_,a,s,f]),(0,M.jsx)(Pe,{className:De(Be().coverArtSingle,(0,i.Z)({},Be().scaleDownCoverArt,t)),imageSrc:b||"",onClick:function(){return function(){v&&void 0!==c&&p((0,A.wO)())}}})}),Fe=n(1531),Ge=n.n(Fe),Je=function(e){var t=e.backgroundColor;return(0,M.jsx)("div",{className:Ge().backgroundColorContainer,style:{backgroundColor:t}})},Xe=n(6394),ze=n.n(Xe),Ke=n(5069),Ve=n(1388),qe=n(2640),Qe=function(e){var t=e.saved,n=e.shouldUseDeeplink,o=e.links,a=e.isMobile,c=e.savedCb,u=(0,l.I0)(),d=(0,r.useContext)(B.O),p=t?d.get("following"):d.get("follow");return(0,M.jsx)("button",{className:s()(ze().followButton,(0,i.Z)({},ze().following,t)),onClick:function(){n?(u((0,S._)({action_type:"click",action_intent:"deeplink",action_item_id:"follow-button"})),(0,qe.M)({url:o.compositeEntity,newWindow:!a})):(u((0,S._)({action_type:"click",action_intent:t?"unfollow":"follow"})),c(!t))},tabIndex:0,"aria-label":p,children:p})},He=function(e){var t=e.saved,n=e.shouldUseDeeplink,i=e.links,o=e.isMobile,a=e.savedCb,s=(0,r.useContext)(B.O),c=(0,l.I0)(),u=t?s.get("embed_remove_track"):s.get("embed_save_track");return(0,M.jsx)(q.o,{condensedAll:!0,title:u,"aria-label":u,className:ze().heartButton,iconOnly:t?Ke.a:Ve.A,onClick:function(){n?(c((0,S._)({action_type:"click",action_intent:"deeplink",action_item_id:"heart-button"})),(0,qe.M)({url:i.embeddedEntity,newWindow:!o})):(c((0,S._)({action_type:"click",action_intent:t?"remove-from-library":"add-to-library"})),a(!t))},semanticColor:"textBase"})},$e=function(e){var t=e.saved,n=e.shouldUseDeeplink,i=e.links,o=e.isMobile,a=e.savedCb,s=(0,l.I0)(),c=(0,r.useContext)(B.O),u=t?c.get("audiobook.embed.added-to-library"):c.get("audiobook.embed.add-to-library");return(0,M.jsx)("div",{className:ze().addToLibraryButtonWrapper,children:(0,M.jsx)(q.o,{condensedAll:!0,title:u,"aria-label":u,iconLeading:t?x.K:h.G,onClick:function(){n?(s((0,S._)({action_type:"click",action_intent:"deeplink",action_item_id:"add-to-library-button"})),(0,qe.M)({url:i.embeddedEntity,newWindow:!o})):(s((0,S._)({action_type:"click",action_intent:t?"remove-from-library":"add-to-library"})),a(!t))},semanticColor:"textBase",buttonSize:"sm",className:ze().addToLibraryButton,children:(0,M.jsx)("span",{className:ze().addToLibraryButtonText,children:u})})})},Ye=function(){var e=(0,l.v9)(T.k),t=(0,l.v9)((function(e){return e.settings.isMobile})),n=(0,l.v9)((function(e){return e.data.saved})),r=(0,l.v9)((function(e){return e.settings.session.isAnonymous})),o=(0,l.v9)((function(t){return e?t.data.entity.relatedEntityUri:t.data.entity.uri})),a=(0,l.v9)((function(e){var t;return null===(t=e.data.entity)||void 0===t?void 0:t.isAudiobook})),c=(0,g.y)("embed_player_p"),u=(0,W.Z)(o,n),d=(0,_.Z)(u,2),p=d[0],v=d[1];if(void 0===p)return null;return(0,M.jsx)("div",{className:s()(ze().wrapper,(0,i.Z)({},ze().isAudiobook,a)),children:a?(0,M.jsx)($e,{isMobile:t,shouldUseDeeplink:r,links:c,saved:p,savedCb:v}):e?(0,M.jsx)(Qe,{isMobile:t,shouldUseDeeplink:r,links:c,saved:p,savedCb:v}):(0,M.jsx)(He,{isMobile:t,shouldUseDeeplink:r,links:c,saved:p,savedCb:v})})},et=n(6534),tt=n.n(et),nt=n(2105),it=n(9506),rt=n(7502),ot=n.n(rt);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=function(e){var t=e.style,n=e.children;return(0,M.jsx)("div",{style:t,className:ot().tooltipContainer,children:n})},ct=function(){var e,t=(0,l.v9)((function(e){return e.data.entity})),n=(0,l.v9)((function(e){return e.playback})),i=t.isPlayable,o=(0,r.useMemo)((function(){return(0,se.C)(t)}),[t]).metadata,a=(null===n||void 0===n?void 0:n.duration)||Number(null===o||void 0===o?void 0:o.duration),s=(0,l.v9)((function(e){var t,n;return null===(t=e.playback)||void 0===t||null===(n=t.item)||void 0===n?void 0:n.uri})),c=(0,r.useState)({isDragging:!1,dragPosition:null,showRemainingTime:!0,currentTrackURI:null}),u=c[0],d=c[1],p=(0,r.useState)(),_=p[0],f=p[1],b=(0,l.I0)(),y=function(e){b((0,S._)(e))},g=(0,it.y1)((function(){d(st(st({},u),{},{dragPosition:null}))}),1e3),x=function(){var e=(0,v.Z)(m().mark((function e(t){var n,i,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.percentage,i=t.ended,r=t.id,d(st(st({},u),{},{isDragging:!0,dragPosition:n})),i&&(b((0,A.Pu)(n||0)),d(st(st({},u),{},{isDragging:!1,dragPosition:n})),y({action_type:"click",action_intent:"seek-click",item_uri:s}),g()),i||_===r||(f(r),y({action_type:"click",action_intent:"seek-drag",item_uri:s}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=u.isDragging,k=u.dragPosition;return Number.isFinite(k)?e=k*a:null!==n&&void 0!==n&&n.positionAsOfTimestamp&&(e=null===n||void 0===n?void 0:n.positionAsOfTimestamp),(0,M.jsx)(nt.Z,{tooltip:lt,max:a,current:e,onDragging:x,isDragging:h,enabled:i})},ut=n(3833),dt=n(89),pt=n.n(dt);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft=function(){var e,t,n=(0,l.v9)((function(e){return e.data.entity})),o=(0,l.v9)((function(e){return e.playback})),a=(0,r.useMemo)((function(){return(0,se.C)(n)}),[n]).metadata,s=(null===o||void 0===o?void 0:o.duration)||Number(null===a||void 0===a?void 0:a.duration),c=(0,r.useState)({dragPosition:null,showRemainingTime:!0}),u=c[0],d=c[1],p=u.showRemainingTime,v=u.dragPosition;Number.isFinite(v)?e=v*s:null!==o&&void 0!==o&&o.positionAsOfTimestamp&&(e=null===o||void 0===o?void 0:o.positionAsOfTimestamp);var _=(t=null!==o&&void 0!==o&&o.hasContext||void 0!==(null===o||void 0===o?void 0:o.isPaused)?p?(0,ut.Z)((e||0)-s):(0,ut.Z)(e):(0,ut.Z)(s)).replace(/\d/g,"0").replace(/^\d/,"-0");return(0,M.jsxs)("button",{type:"button",className:De(pt().progressTimer,(0,i.Z)({},pt().isUpsell,!1)),onClick:function(){d(_t(_t({},u),{},{showRemainingTime:!u.showRemainingTime})),(0,S._)({action_type:"click",action_intent:"change-time-format"})},"aria-label":ye.ag.get("spe.playback-control.progress-timestamp"),children:[(0,M.jsx)("span",{className:pt().progressTimeSpacer,"aria-hidden":!0,children:_}),(0,M.jsx)("span",{role:"timer",className:pt().actualProgressTime,"data-testid":"progress-timestamp",children:t})]})},mt=function(){var e,t=(0,l.v9)((function(e){return e.machineState.playbackMode})),n=(0,l.v9)((function(e){return e.playback})),r=t===u.d.PREVIEW,o=null!==(e=null===n||void 0===n?void 0:n.hasContext)&&void 0!==e&&e;return(0,M.jsxs)("div",{className:s()(tt().playerControlsWrapper,(0,i.Z)({},tt().hasPlaybackContext,o&&!r)),children:[(0,M.jsxs)("div",{className:s()(tt().baselineWrapper),children:[!r&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:s()(tt().progressBarWrapper,(0,i.Z)({},tt().hasPlaybackContext,o)),dir:"ltr",children:(0,M.jsx)(ct,{})}),(0,M.jsx)(ft,{})]}),(0,M.jsx)(ke,{})]}),(0,M.jsx)("div",{className:s()(tt().playButtonWrapper),children:(0,M.jsx)(we,{})})]})},bt=n(3739);var yt=function(){var e=(0,l.I0)();!function(){var e=(0,l.I0)(),t=(0,r.useCallback)((function(){return"ontouchstart"in document.documentElement?"touchstart":"mouseover"}),[]),n=(0,r.useCallback)((function(){document.removeEventListener(t(),n),e((0,bt.j)()),e((0,S._)({action_type:"interacted",action_intent:t()}))}),[e,t]);(0,r.useEffect)((function(){return e((0,bt.s)()),document.addEventListener(t(),n),function(){document.removeEventListener(t(),n)}}),[e,n,t])}();var t=(0,l.v9)((function(e){return e.machineState.initialized})),n=(0,l.v9)((function(e){return e.machineState.showOverflowMenu})),o=(0,l.v9)((function(e){return e.data.backgroundColor})),a=(0,l.v9)((function(e){return e.machineState.playbackMode})),d=(0,l.v9)((function(e){var t;return null===(t=e.playback)||void 0===t?void 0:t.hasContext})),v=a===u.d.PREVIEW,_=d&&!v;return(0,M.jsxs)("div",{"data-testid":"embed-widget-container",className:s()("encore-dark-theme",p().widgetContainer),children:[(0,M.jsx)(Je,{backgroundColor:o}),(0,M.jsxs)("div",{"data-testid":"initialized-".concat(t),className:s()(p().singleGridContainer,(0,i.Z)({},p().hasPlaybackContext,_)),children:[(0,M.jsx)("div",{className:s()(p().coverArtContainer,(0,i.Z)({},p().hasPlaybackContext,_)),children:(0,M.jsx)(Re,{})}),(0,M.jsx)("div",{className:p().spotifyLogoContainer,children:(0,M.jsx)(R,{})}),(0,M.jsxs)("div",{className:s()(p().metadataWrapper,(0,i.Z)({},p().hasPlaybackContext,_)),children:[(0,M.jsx)(pe,{}),(0,M.jsxs)("span",{className:p().labelsAndSubtitle,children:[(0,M.jsx)(Y.$,{}),(0,M.jsx)(be,{})]}),(0,M.jsx)(Ye,{})]}),a!==u.d.UNKNOWN&&(0,M.jsx)(mt,{})]}),a!==u.d.UNKNOWN&&(0,M.jsx)(U,{onClose:function(){e((0,c.h6)())},visible:n}),a!==u.d.UNKNOWN&&(0,M.jsx)(Te,{})]})},gt=n(8282),xt=n(2181),ht=n(4965);function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=!0,wt=function(e){var t=(0,ht.v)(e)?e.rtl:e.state.settings.rtl;return r.useEffect((function(){var e;null===(e=document.querySelector("html"))||void 0===e||e.setAttribute("dir",t?"rtl":"ltr")}),[t]),(0,ht.v)(e)?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(xt.xB,{styles:D.ue}),(0,M.jsx)(E.b,{children:(0,M.jsx)(gt.Z,jt({},e))})]}):(0,M.jsx)(o.g,jt(jt({},e),{},{children:(0,M.jsx)(yt,{})}))}},9810:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/track/[id]",function(){return n(5903)}])},6394:function(e){e.exports={wrapper:"AddToLibrary_wrapper__NBmtG",isAudiobook:"AddToLibrary_isAudiobook__S9lX5",followButton:"AddToLibrary_followButton__eFb9h",following:"AddToLibrary_following__6JlCg",heartButton:"AddToLibrary_heartButton__6n8Nd",addToLibraryButtonWrapper:"AddToLibrary_addToLibraryButtonWrapper__6ARME",addToLibraryButton:"AddToLibrary_addToLibraryButton__xCxO5",addToLibraryButtonText:"AddToLibrary_addToLibraryButtonText__wLbT0"}},1531:function(e){e.exports={backgroundColorContainer:"BackgroundColorContainer_backgroundColorContainer__KSQbl"}},9321:function(e){e.exports={coverArt:"CoverArtBase_coverArt__0FXx2"}},8072:function(e){e.exports={coverArtSingle:"CoverArtSingle_coverArtSingle__9Y6dq",scaleDownCoverArt:"CoverArtSingle_scaleDownCoverArt__oyRPh"}},6732:function(e){e.exports={wrapper:"OverflowMenu_wrapper__VggNn",visible:"OverflowMenu_visible__xXQKB",menu:"OverflowMenu_menu__HiJN_",menuContent:"OverflowMenu_menuContent__4Cu1_",closeButton:"OverflowMenu_closeButton__3kIFi",icon:"OverflowMenu_icon__Wl3eM",menuItem:"OverflowMenu_menuItem__0TW_m",menuItemButton:"OverflowMenu_menuItemButton__2Z1ZQ",copyLinkWrapper:"OverflowMenu_copyLinkWrapper__Q22cz",copyText:"OverflowMenu_copyText__ZsmdJ",copied:"OverflowMenu_copied__bFI2B",copiedText:"OverflowMenu_copiedText__0vbvX",policies:"OverflowMenu_policies__QRdbr",link:"OverflowMenu_link__oAyKa",truncator:"OverflowMenu_truncator__xDG3w",separator:"OverflowMenu_separator__TvGx2"}},6954:function(e){e.exports={overflowMenuButton:"OverflowMenuButton_overflowMenuButton__vO5Ou"}},6534:function(e){e.exports={playerControlsWrapper:"PlayerControlsProgressBar_playerControlsWrapper__sTlJk",hasPlaybackContext:"PlayerControlsProgressBar_hasPlaybackContext__MpIar",baselineWrapper:"PlayerControlsProgressBar_baselineWrapper__H3zUc",progressBarWrapper:"PlayerControlsProgressBar_progressBarWrapper__FehtR",playButtonWrapper:"PlayerControlsProgressBar_playButtonWrapper__hq3OH"}},7502:function(e){e.exports={tooltipContainer:"ProgressBarHandler_tooltipContainer__IEBWR"}},89:function(e){e.exports={progressTimeSpacer:"ProgressTimer_progressTimeSpacer__yLT_U",actualProgressTime:"ProgressTimer_actualProgressTime__diaZI",progressTimer:"ProgressTimer_progressTimer__eOXyJ"}},1127:function(e){e.exports={spotifyLogoLink:"SpotifyLogo_spotifyLogoLink__O00RU"}},4064:function(e){e.exports={title:"TitleAndSubtitle_title__3AU56",subtitle:"TitleAndSubtitle_subtitle__3USSu",separator:"TitleAndSubtitle_separator__ffq6o"}},2602:function(e){e.exports={upsellContentContainer:"Upsell_upsellContentContainer__qyHjT",transition_enter:"Upsell_transition_enter___3O_F",transition_enterActive:"Upsell_transition_enterActive__gQSxD",transition_exit:"Upsell_transition_exit__CZPmf",transition_exitActive:"Upsell_transition_exitActive__oTr_b"}},1226:function(e){e.exports={fullscreenWrapper:"UpsellContent_fullscreenWrapper__U0Jrb",footerWrapper:"UpsellContent_footerWrapper__ULtNk",ctaWrapper:"UpsellContent_ctaWrapper__4hcQU",backgroundCoverArt:"UpsellContent_backgroundCoverArt__e2ify",getSpotifyButton:"UpsellContent_getSpotifyButton__otRjn",buttonText:"UpsellContent_buttonText__4Gwix",closeButton:"UpsellContent_closeButton__STqRR",content:"UpsellContent_content__no_QI",metadataWrapper:"UpsellContent_metadataWrapper__qfivR",labelsAndSubtitle:"UpsellContent_labelsAndSubtitle__FsLD7",playerControlsWrapper:"UpsellContent_playerControlsWrapper__tSUv1",overflowMenuButtonWrapper:"UpsellContent_overflowMenuButtonWrapper__Gysfp",coverArtUpsell:"UpsellContent_coverArtUpsell__g7xjl"}},8075:function(e){e.exports={ctaText:"UpsellCta_ctaText__mpL6T"}},4414:function(e){e.exports={widgetContainer:"TrackWidget_widgetContainer__JeGPF",singleGridContainer:"TrackWidget_singleGridContainer__fgLeS",coverArtContainer:"TrackWidget_coverArtContainer__92Ibm",hasPlaybackContext:"TrackWidget_hasPlaybackContext__CS_vA",spotifyLogoContainer:"TrackWidget_spotifyLogoContainer__gXno6",metadataWrapper:"TrackWidget_metadataWrapper__bGDJ_",labelsAndSubtitle:"TrackWidget_labelsAndSubtitle__97Ujq",isPreviewOrTrailer:"TrackWidget_isPreviewOrTrailer__NfAO2"}}},function(e){e.O(0,[714,415,122,345,774,888,179],(function(){return t=9810,e(e.s=t);var t}));var t=e.O();_N_E=t}]);